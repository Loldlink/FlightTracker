<!DOCTYPE html>

<?php require '../Php/active.php'?>

    <head>
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <link rel="stylesheet" href="../Css/VistaAerei.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css" />  <!-- la referenziazione a LEAFLET, ci stà il css e il javascript di leaflet-->
        <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
        <title id="TitoloRadar">Flight Tracker- Map</title>
        <link rel="icon" href="../Immagini/favicon.png">  <!-- questa è l'iconcina che compare sulla scheda del browser-->
    </head>

    <body>
        <!--barra superiore-->
        <div id="titolo">
            <a class="pulsanteHomepage" href="homepage.html">Homepage</a>
            <a class="pulsanteVoli" href="mieivoli.html">I Miei Voli</a>
        </div>

        <!-- elemento div che prende la mappa dal sito   https://cloud.maptiler.com/maps/   -->
        <!-- poi crea una variabile map e ci mette dentro la mappa scaricata dai due link ref sotto-->
        <div id="map"></div>

        <script>
            var map = L.map('map').setView([41, 12], 1); 
            L.tileLayer('https://api.maptiler.com/maps/outdoor/{z}/{x}/{y}.png?key=9SAhLgukQT30FwYja7II', {
            attribution: '<a href="https://www.maptiler.com/copyright/" target="_blank">&copy; MapTiler</a> <a href="https://www.openstreetmap.org/copyright" target="_blank">&copy; OpenStreetMap contributors</a>', 
            }).addTo(map);
            map.setZoom(3);

            //qui finisce lo script di creazione della mappa


            //script per SETTARE i "confini" della mappa, l'utente non può trascinare la mappa oltre
            // reference:   https://leafletjs.com/reference-1.7.1.html#latlngbounds
            var angoloSUDEST = L.latLng(179.5, -89.5),
            angoloNORDOVEST = L.latLng(-179.5, 89.5), 
            bounds = L.latLngBounds(angoloSUDEST, angoloNORDOVEST);

            map.fitBounds([
                [179.5, -89.5],
                [-179.5, 89.5]
            ]);

            map.setMaxBounds(bounds)
            // DA FINIRE!! forse ci sono degli errori con le coordinate
        </script>



    <!-- script per settare l'icona sulla mappa--> 
        <script> //NON SONO SICURO SE QUESTO BLOCCO VADA QUI O NEL FILE VOLI.JS
        var aereoicona = L.icon({
            iconUrl: "../Immagini/airplane-mode.png",
            iconSize:     [15, 15], //dimensione dell'iconcina 
            iconAnchor:   [2, 2], // punto dell'icona che corrisponde a dove effettivamente si trova il marker
        });
        </script>
        

        
        <!-- esempio reference per come aggiungere i marcatori-->
        <script>
            // L.marker([42.1, 26.1], {icon: aereoicona}).addTo(map);
        </script>


        <script src="../Javascript/voli.js"> </script> 
    </body>
</html>